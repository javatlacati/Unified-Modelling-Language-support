<?xml version="1.0" encoding="UTF-8"?>

<!--
DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 1997-2007 Sun Microsystems, Inc. All rights reserved.

The contents of this file are subject to the terms of either the GNU
General Public License Version 2 only ("GPL") or the Common
Development and Distribution License("CDDL") (collectively, the
"License"). You may not use this file except in compliance with the
License. You can obtain a copy of the License at
http://www.netbeans.org/cddl-gplv2.html
or nbbuild/licenses/CDDL-GPL-2-CP. See the License for the
specific language governing permissions and limitations under the
License.  When distributing the software, include this License Header
Notice in each file and include the License file at
nbbuild/licenses/CDDL-GPL-2-CP.  Sun designates this
particular file as subject to the "Classpath" exception as provided
by Sun in the GPL Version 2 section of the License file that
accompanied this code. If applicable, add the following below the
License Header, with the fields enclosed by brackets [] replaced by
your own identifying information:
"Portions Copyrighted [year] [name of copyright owner]"

Contributor(s):

The Original Software is NetBeans. The Initial Developer of the Original
Software is Sun Microsystems, Inc. Portions Copyright 1997-2007 Sun
Microsystems, Inc. All Rights Reserved.

If you wish your version of this file to be governed by only the CDDL
or only the GPL Version 2, indicate your decision by adding
"[Contributor] elects to include this software in this distribution
under the [CDDL or GPL Version 2] license." If you do not indicate a
single choice of license, a recipient has the option to distribute
your version of this file under either the CDDL, the GPL Version 2 or
to extend the choice of license to its licensees as provided above.
However, if you add GPL Version 2 code and therefore, elected the GPL
Version 2 license, then the option applies only if the new code is
made subject to such option by the copyright holder.
-->

<!DOCTYPE api-answers PUBLIC "-//NetBeans//DTD Arch Answers//EN" "../../nbbuild/antsrc/org/netbeans/nbbuild/Arch.dtd" [
  <!ENTITY api-questions SYSTEM "../../nbbuild/antsrc/org/netbeans/nbbuild/Arch-api-questions.xml">
]>

<api-answers
  question-version="1.25"
  module="UML Modeling Core"
  author="trey.spiva@sun.com"
>

  &api-questions;


<!--
        <question id="arch-overall" when="init">
            Describe the overall architecture.
            <hint>
            What will be API for 
            <a href="http://openide.netbeans.org/tutorial/api-design.html#design.apiandspi">
                clients and what support API</a>? 
            What parts will be pluggable?
            How will plug-ins be registered? Please use <code>&lt;api type="export"/&gt;</code>
            to describe your general APIs.
            If possible please provide 
            simple diagrams. 
            </hint>
        </question>
-->
 <answer id="arch-overall">
   The UML project is really a modeling project.  One of the things (and currently the only thing) that we can model is UML.  The tool is broken up into three areas Core, Language Framework, and UI. <br/>
   <br/>
   <h3>Modeling Core</h3>The Core contains the meta data layer, workspace management, event framework, preference framework, type management, generative framework, and a add-in framework.  Below is a brief description to each of the components for the tool.  When reading the descriptions keep in mind that the UML tool was originally designed as an application that can be embedded into other application shells. So, some of the components listed are duplicates of NetBeans components. <br/>
   <ul><li><strong>Meta Data Layer</strong></li></ul>
   <blockquote><p>The meta data layer is based on the UML specification.  Our data for the most part follows the UML specification.  The interesting thing about UML 2.0 is that the architects of UML 2.0 also designed MOF 2.0.  So at this point UML 2.0 is a super set of MOF 2.0.  When ever a meta data element has a value changed the event framework is used to notify listeners of the change.  The only business rules that the meta data layer applies are to force the correct structure data structure.  The applications business rules are applied by other components in response to events sent out when a model element is about to be modified.  We call these events pre events.  For example when the name of a class model element is changed a name change event is sent and round trip listens for name change events and verify that the name is a valid identifier for the languages associated with the model element.</p></blockquote>
   <ul><li><strong>Workspace Management</strong></li></ul>

   <blockquote><p>Describe was design be able to have multiple UML projects open at the same time.  The job of the workspace management component was to manage the projects that are open.  NetBeans 4.x  has its own workspace management facilities.  In Coke we will probably no longer have a dependency on this component.</p></blockquote><ul><li><strong>Event Framework</strong></li></ul>
   <blockquote><p>The event framework is a component that does not have any dependencies to the rest of the application.  However most of the rest of the tool has dependencies on the EventFramework  We did not use the Java Bean event mechanisms, instead we used more of an event bus mechanism.  The event mechanism is broken into event dispatchers, and event listeners.  The event dispatchers are used to register listeners for events and to send events to all registered listeners.  There is a number of different types of dispatchers in the tool (for example ElementChangeEventDispatcher, AddinEventDispatcher, ElementLifeTimeEventDispatcher etc)  and any component can create a new event dispatcher.  The component that would like to register for an event retrieves the dispatcher and registers for the event.  

    The big difference between our event mechanism and the JavaBeans event mechanism is that you do not have to wait for a component to be created before registering for the events.  For example with the JavaBean event mechanism you have to have an instance of the bean that you wish to register with.  So, if you want to receive notification from all class elements in the system you have to first register for an event to notify you when a class comes into memory, register for the event with the class and then  you are able to receive events. 

	 With the event bus concept the component retrieves the event dispatchers when the component is created, registers for the event and waits.  Whenever something any class changes the registered listener will be notified.</p></blockquote>
    <ul><li><strong>Preference Framework</strong></li></ul>
   <blockquote><p>Again Describe was designed to be an application that could be embedded into many shells.  As such we have our own preference framework.  We may want to start using the NetBeans preference mechanism in the future.</p></blockquote>
   
   <ul><li><strong>Type Management</strong></li></ul>
   <blockquote><p>Type management is used to quickly find type in the system.  Type management is also the component that makes version control possible.  When  model element is versioned we remove the model element information from the project and replace it with a stub.  The removed information is then gets stored into its own file (.ext) that can be version controlled.  When a versioned model element is referenced the Type Management component make sure that the information in the version controlled file is read in to memory and replaces the stub with the information in the version control  file.  In this way we are able to lazy load information.</p></blockquote>
   
   <ul><li><strong>Generative Framework</strong></li></ul>
   <blockquote><p>The generative framework is used to format data.  Basically we are able to use scripts to format information.  The scripts are used to format the information in the diagram, project tree,  and property editor.  In the C++ version of  Describe the generative framework was also used to generate code.</p></blockquote>
   
   <ul><li><strong>Add-In Framework</strong></li></ul>
   <blockquote><p>Again since Describe was designed to embed into different shell we also developed our own add in framework. </p></blockquote><br/>

   <br/>
   <h3>Langauge Facility</h3>The language facility supplies the language processing of the modeling tool.  The modeling tool was design to maximize the reuse of the components across languages.  In the modeling domain when we use the term language we are talking about anything that can be generated.  It could be used to generate a source file, XML or a StarOffice document the framework does not care.  The language facility contains the parsers, reverse engineering, method body reverse engineering, round trip framework, and code generation.&lt;/blockquote&gt;[&lt;/html&gt;]
   <ul><li><strong>Language Parsers</strong></li></ul>
   <blockquote><p>The parsers that we use in the UML tool generate events.  The events are structured using UML syntax (actually they are XMI fragments).  Because we use UML as our event syntax all parser listeners are able to be language agnostic because the structure of the event will look the same if the language is Java, C++, C#, VB, JSP, etc.</p></blockquote><ul><li><strong>Reverse Engineering</strong></li></ul>
   <blockquote><p>Takes the parser information and integrates the information into a modeling project. The modeling project can be a new project or an existing project.  Note that there is only one Reverse Engineering component that can handle all of the languages.  Basically it is language agnostic. </p></blockquote> <ul><li><strong>Method Body Reverse Engineering</strong></li></ul>
   <blockquote><p>Takes the parser information and integrates the information into the modeling project by creating an interaction (Sequence Diagram, or Collaboration Diagram) that represents the parser information.  Note that there is only one Method Body Reverse Engineering component that supports all of the languages.</p></blockquote><ul><li><strong>Round Trip</strong></li></ul>

   <blockquote><p>Round trip has two purposes in life: one enforce business rules that apply to languages, two notify the code generation that something changed that affect the associated source file artifacts.  Round trip registers for many of the events that can be issued from the meta data, validates the data and applies business rules.  After the data changes have been applied round trip sends an event via the RoundTripEventDispatcher to notify listeners that the source file artifact may need to be updated.  Round trip is not actually responsible for generating any code.  Code generation is the responsibility of the round trip listeners.

   To apply the business rules for a language round trip uses a component called a request process to apply the rules.  Each supported language supplies a request processor.  So the request processor is not language agnostic, however round trip (which only manages the request processors) is language agnostic.  A configuration file is used to determine the request processor to use for a specific language.

   Round trip was designed to allow multiple languages to be associated with one model element.  So a model element can be associated with Java, and WSDL and the code can be generated for each language.  When the model element is changed the code will be generated for both languages without any interaction by the user. </p></blockquote><ul><li><strong>Code Generation</strong></li></ul>
   <blockquote><p>Code generation (you guessed it) is used to generate code.  In Java Studio Enterprise the Java code generator uses the NetBeans API to generate code.  However, that does not have to be the case.  As mentioned earlier the C++ version of Describe the code generation module to use the generative framework to generate code.

   The code generation component is registered as a round trip listener for a specific language.  Therefore the Java code generation component only recieves events when a Java source artifact is associated with a model element that has been modified.  When something occurs in the model that affects a source artifact the code generation component is notified via round trip events.  The code generation module then updates the source file. </p></blockquote><br/>
   <br/>
   <h3>Modeling User Interface</h3>The interfaces provides many visual components to allow the user to interact with a model.  Below is a description of the user interfaces components.<ul><li><strong>Drawing Area</strong></li></ul>
   <blockquote><p>The drawing area component is used to render the diagrams  The drawing area control wrapes the <a href="./Wiki?Tom+Sawyer+Libraries">Tom Sawyer</a> components. The drawing area control is a generic control that can be used to when developing any modeling diagram.  Even though the UML product has multiple diagram types there is only one drawing area control for all the diagrams. 
   <br/><br/>
   <i>INSERT A DIAGRAM HERE</i>

   </p></blockquote><br/>
    <ul><li><strong>Property Elements/Property Definitions</strong></li></ul>
   The modeling tool has a concept of property elements and property definitions.  Property definitions a basically a meta language that can be used to describe the structure of properties.  The property definitions specify the details of a property.  The property definition fields are listed below.
   
   <br/><br/>
   Property elements is an instance of the property defintions. The property elements contain the properties data and a pointer to the property definitions that specifies the property elements rules.

   The property elements and property definitions are defined as interfaces so there are unlimited posibilities of how to load up the property elements data and how to build the property defintion tree.
   <br/><br/>
   The modeling tool supplies one implementation of the property elements and property defintions that can be built a runtime based on an XML files.  The propety definition file specifies the structure of the property definitions and the property element file specifies all the informtion that is needed to set and retrieve the property data.  Reflection is used to set and retrieve the property data.
   
   
   <ul><li><strong>Propertery Editor</strong></li></ul>
   <blockquote><p>The property editor is a generic property editor that uses the property elements/property definitions mentioned above to build property data.  Since the property definitions can contain children the property editor was design to display properties in a tree structure.	</p></blockquote><ul><li><strong>Project Tree</strong></li></ul>
   <ul><li><strong>Preferences Editor</strong></li></ul>
   * <strong>Edit Control</strong><br/>
   <br/>

   <ul><li><strong>Documentation Pane</strong></li></ul>
   <p/>
 </answer>



<!--
        <question id="arch-quality" when="init">
            How will the <a href="http://www.netbeans.org/community/guidelines/q-evangelism.html">quality</a>
            of your code be tested and 
            how are future regressions going to be prevented?
            <hint>
            What kind of testing do
            you want to use? How much functionality, in which areas,
            should be covered by the tests? 
            </hint>
        </question>
-->
 <answer id="arch-quality">
  <p>
   We have a few hundred JUnit test that we currently run during our release 
   engineering process.  As we move forward we will be building more JUNIT test
   that will be executed.  
   
   Our quality assurance team is in the process of building suite of automated 
   test modules to test the UI components.  We have also instructed the quality 
   assurance team that once the UI test are completed that when a new is written 
   we also want a automated test that engineering can run to replicate the problem.
   By having our quality assurance team assist in the automated test genreation 
   we will be able to have a high rate of successfully replicating issues as
   well as have a higher number of automated test.
  </p>
 </answer>



<!--
        <question id="arch-time" when="init">
            What are the time estimates of the work?
            <hint>
            Please express your estimates of how long the design, implementation,
            stabilization are likely to last. How many people will be needed to
            implement this and what is the expected milestone by which the work should be 
            ready?
            </hint>
        </question>
-->
 <answer id="arch-time">
  <p>
   The modeling module will be released in the BUZZ time frame.
  </p>
 </answer>



<!--
        <question id="arch-usecases" when="init">
            <hint>
                Content of this answer will be displayed as part of page at
                http://www.netbeans.org/download/dev/javadoc/usecases.html 
                You can use tags &lt;usecase name="name&gt; regular html description &lt;/usecase&gt;
                and if you want to use an URL you can prefix if with @TOP@ to begin
                at the root of your javadoc
            </hint>
        
            Describe the main <a href="http://openide.netbeans.org/tutorial/api-design.html#usecase">
            use cases</a> of the new API. Who will use it under
            what circumstances? What kind of code would typically need to be written
            to use the module?
        </question>
-->
 <answer id="arch-usecases">
  <p>
   Fill in at a later time.  
  </p>
 </answer>



<!--
        <question id="arch-what" when="init">
            What is this project good for?
            <hint>
            Please provide here a few lines describing the project, 
            what problem it should solve, provide links to documentation, 
            specifications, etc.
            </hint>
        </question>
-->
 <answer id="arch-what">
  <p>
   This project is a core module for the modeling tool.
  </p>
 </answer>



<!--
        <question id="compat-i18n" when="impl">
            Is your module correctly internationalized?
            <hint>
            Correct internationalization means that it obeys instructions 
            at <a href="http://www.netbeans.org/download/dev/javadoc/OpenAPIs/org/openide/doc-files/i18n-branding.html">
            NetBeans I18N pages</a>.
            </hint>
        </question>
-->
 <answer id="compat-i18n">
  <p>
   Yes
  </p>
 </answer>



<!--
        <question id="compat-standards" when="init">
            Does the module implement or define any standards? Is the 
            implementation exact or does it deviate somehow?
        </question>
-->
 <answer id="compat-standards">
  <p>
   The module implements the MOF 2.0/UML 2.0 as of the Jan 2003 version of the 
   OMG specification.
  </p>
 </answer>



<!--
        <question id="compat-version" when="impl">
            Can your module coexist with earlier and future
            versions of itself? Can you correctly read all old settings? Will future
            versions be able to read your current settings? Can you read
            or politely ignore settings stored by a future version?
            
            <hint>
            Very helpful for reading settings is to store version number
            there, so future versions can decide whether how to read/convert
            the settings and older versions can ignore the new ones.
            </hint>
        </question>
-->
 <answer id="compat-version">
  <p>
   This version will be compatable with the previous version of the modeling
   product.  In the future we will be moving our configration file into the 
   NetBeans layer mechanism.
  </p>
 </answer>



<!--
        <question id="dep-jre" when="final">
            Which version of JRE do you need (1.2, 1.3, 1.4, etc.)?
            <hint>
            It is expected that if your module runs on 1.x that it will run 
            on 1.x+1 if no, state that please. Also describe here cases where
            you run different code on different versions of JRE and why.
            </hint>
        </question>
-->
 <answer id="dep-jre">
  <p>
   JRE 1.5
  </p>
 </answer>



<!--
        <question id="dep-jrejdk" when="final">
            Do you require the JDK or is the JRE enough?
        </question>
-->
 <answer id="dep-jrejdk">
  <p>
   The JRE is enough.
  </p>
 </answer>



<!--
        <question id="dep-nb" when="init">
            What other NetBeans projects and modules does this one depend on?
            <hint>
            If you want, describe such projects as imported APIs using
            the <code>&lt;api name="identification" type="import or export" category="stable" url="where is the description" /&gt;</code>
            </hint>
        </question>
-->
 <answer id="dep-nb">
   It uses various kinds of API's:
   <ul>
   <li>
       <api 
           name="OpenIDE"
           group="java"
           type="import"
           category="official"
           url="http://www.netbeans.org/download/dev/javadoc/OpenAPIs/index.html"
       />
       The support class various NetBeans classes.
   </li>
   <li>
       <api 
           name="Loaders"
           group="java"
           type="import"
           category="official"
           url="http://www.netbeans.org/download/dev/javadoc/LoadersAPI/index.html"
       />
       Provides the <code>DataObject</code> implementation
   </li>
   <li>
       <api 
           name="projectapi"
           group="java"
           type="import"
           category="official"
           url="http://www.netbeans.org/download/dev/javadoc/ProjectAPI/index.html"
       />
       Provides the NetBeans project API.
   </li>
   <li>
       <api 
           name="ant-project"
           group="java"
           type="import"
           category="official"
           url="http://www.netbeans.org/download/dev/javadoc/AntProjectAPI/index.html"
       />
       Provides the Ant project suppport.
   </li>
   <li>
       <api 
           name="projectapi"
           group="java"
           type="import"
           category="official"
           url="http://www.netbeans.org/download/dev/javadoc/ProjectAPI/index.html"
       />
       Provides the project chooser, and customizer support.
   </li>
   <li>
       <api 
           name="projectuiapi"
           group="java"
           type="import"
           category="official"
           url="http://www.netbeans.org/download/dev/javadoc/ProjectUIAPI/index.html"
       />
       E.g. <code>Debug</code> uses <code>InputOutput</code>.
   </li>
   </ul>
 </answer>



<!--
        <question id="dep-non-nb" when="init">
            What other projects outside NetBeans does this one depend on?
            
            <hint>
            Some non-NetBeans projects are packaged as NetBeans modules
            (see <a href="http://libs.netbeans.org/">libraries</a>) and
            it is preferred to use this approach when more modules may
            depend on such third-party library.
            </hint>
        </question>
-->
 <answer id="dep-non-nb">
  <p>
   Antlr 2.7.2 <br/>
   Tom Sawyer version 6.0
  </p>
 </answer>



<!--
        <question id="dep-platform" when="init">
            On which platforms does your module run? Does it run in the same
            way on each?
            <hint>
            If your module is using JNI or deals with special differences of
            OSes like filesystems, etc. please describe here what they are.
            </hint>
        </question>
-->
 <answer id="dep-platform">
  <p>
   100% pure Java. It should run anywhere.
  </p>
 </answer>



<!--
        <question id="deploy-dependencies" when="final">
            What do other modules need to do to declare a dependency on this one?
            <hint>
                Provide a sample of the actual lines you would add to a module manifest
                to declare a dependency, for example using OpenIDE-Module-Module-Dependencies
                or OpenIDE-Module-Requires. You may use the magic token @SPECIFICATION-VERSION@
                to represent the current specification version of the module.
            </hint>
        </question>
-->
 <answer id="deploy-dependencies">
   <ul>
   <li>UML Projects - org.netbeans.modules.uml.project </li>
   <li>Associate Model Elements - org.netbeans.modules.uml.associatewith</li>
   <li>Rose Import - org.netbeans.modules.uml.roseimport</li>
   <li>Web Report - org.netbeans.modules.uml.webreport</li>
   <!--<li>Dependency Analyzer - org.netbeans.modules.uml.dependencyanalyzer</li>
   <li>Design Center - org.netbeans.modules.uml.designpattern<</li>
   -->
   <li>Diagram Creator - org.netbeans.modules.uml.diagramcreator</li>
   <li>Documentation Pane - org.netbeans.modules.uml.documentation</li>
   <li>Modeling Drawing Area Control - org.netbeans.modules.uml.drawingarea</li>
   <li>Modeling Source Control - org.netbeans.modules.uml.sourcecontrol</li>
   <li>Requiremetns Framework - org.netbeans.modules.uml.requirements</li>
   <li>Reverse Engineering GUI - org.netbeans.modules.uml.regui</li>
   </ul>
 </answer>



<!--
        <question id="deploy-jar" when="impl">
            Do you deploy just module JAR file(s) or other files as well?
            <hint>
            Usually a module consist of one JAR file (perhaps with Class-Path
            extensions) and also a configuration file that enables it. If you
            have any other files, use
            &lt;api group="java.io.File" name="yourname" type="export" category="friend"&gt;...&lt;/api&gt;
            to define the location, name and stability of your files (of course
            changing "yourname" and "friend" to suit your needs).
            
            If it uses more than one JAR, describe where they are located, how
            they refer to each other. 
            If it consist of module JAR(s) and other files, please describe
            what is their purpose, why other files are necessary. Please 
            make sure that installation/uninstallation leaves the system 
            in state as it was before installation.
            </hint>
        </question>
-->
 <answer id="deploy-jar">
   The module deploys the following jar files into lib/ folder:
   <ul>
   <li>lib/dom4j/jaxen.jar</li> 
	<li>lib/dom4j/msv.jar: </li>
	<li>lib/dom4j/PullParser2.jar: </li>
	<li>lib/dom4j/relaxngDatatype.jar: </li> 
	<li>lib/dom4j/saxpath.jar: </li> 
	<li>lib/dom4j/Tidy.jar: </li>
	<li>lib/dom4j/xsdlib.jar: </li>
	<li>lib/junit/junit.jar</li>
   </ul>
 </answer>



<!--
        <question id="deploy-nbm" when="impl">
            Can you deploy an NBM via the Update Center?
            <hint>
            If not why?
            </hint>
        </question>
-->
 <answer id="deploy-nbm">
  <p>
   XXX no answer for deploy-nbm
  </p>
 </answer>



<!--
        <question id="deploy-packages" when="init">
            Are packages of your module made inaccessible by not declaring them
            public?
            
            <hint>
            NetBeans module system allows restriction of access rights to
            public classes of your module from other modules. This prevents
            unwanted dependencies of others on your code and should be used
            whenever possible (<a href="http://www.netbeans.org/download/javadoc/OpenAPIs/org/openide/doc-files/upgrade.html#3.4-public-packages">
            public packages
            </a>). If you do not restrict access to your classes you are
            making it too easy for other people to misuse your implementation
            details, that is why you should have good reason for not 
            restricting package access.
            </hint>
        </question>
-->
 <answer id="deploy-packages">
  <p>
  Yes. Public packages of J2EE Server API module are specified in module manifest file :

  <b>org.netbeans.modules.uml.** </b>
  </p>
 </answer>



<!--
        <question id="deploy-shared" when="final">
            Do you need to be installed in the shared location only, or in the user directory only,
            or can your module be installed anywhere?
            <hint>
            Installation location shall not matter, if it does explain why.
            Consider also whether <code>InstalledFileLocator</code> can help.
            </hint>
        </question>
-->
 <answer id="deploy-shared">
  <p>
   Module can be installed any where.
  </p>
 </answer>



<!--
        <question id="exec-ant-tasks" when="impl">
            Do you define or register any ant tasks that other can use?
            
            <hint>
            If you provide an ant task that users can use, you need to be very
            careful about its syntax and behaviour, as it most likely forms an
	          API for end users and as there is a lot of end users, their reaction
            when such API gets broken can be pretty strong.
            </hint>
        </question>
-->
 <answer id="exec-ant-tasks">
  <p>
   We use the Antlr ant task that ships as an optional task in the Ant distribution.
  </p>
 </answer>



<!--
        <question id="exec-classloader" when="impl">
            Does your code create its own class loader(s)?
            <hint>
            A bit unusual. Please explain why and what for.
            </hint>
        </question>
-->
 <answer id="exec-classloader">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="exec-component" when="impl">
            Is execution of your code influenced by any (string) property
            of any of your components?
            
            <hint>
            Often <code>JComponent.getClientProperty</code>, <code>Action.getValue</code>
            or <code>PropertyDescriptor.getValue</code>, etc. are used to influence
            a behavior of some code. This of course forms an interface that should
            be documented. Also if one depends on some interface that an object
            implements (<code>component instanceof Runnable</code>) that forms an
            API as well.
            </hint>
        </question>
-->
 <answer id="exec-component">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="exec-introspection" when="impl">
            Does your module use any kind of runtime type information (<code>instanceof</code>,
            work with <code>java.lang.Class</code>, etc.)?
            <hint>
            Check for cases when you have an object of type A and you also
            expect it to (possibly) be of type B and do some special action. That
            should be documented. The same applies on operations in meta-level
            (Class.isInstance(...), Class.isAssignableFrom(...), etc.).
            </hint>
        </question>
-->
 <answer id="exec-introspection">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="exec-privateaccess" when="final">
            Are you aware of any other parts of the system calling some of 
            your methods by reflection?
            <hint>
            If so, describe the "contract" as an API. Likely private or friend one, but
            still API and consider rewrite of it.
            </hint>
        </question>
-->
 <answer id="exec-privateaccess">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="exec-process" when="impl">
            Do you execute an external process from your module? How do you ensure
            that the result is the same on different platforms? Do you parse output?
            Do you depend on result code?
            <hint>
            If you feed an input, parse the output please declare that as an API.
            </hint>
        </question>
-->
 <answer id="exec-process">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="exec-property" when="impl">
            Is execution of your code influenced by any environment or
            Java system (<code>System.getProperty</code>) property?
            
            <hint>
            If there is a property that can change the behavior of your 
            code, somebody will likely use it. You should describe what it does 
            and the <a href="http://openide.netbeans.org/tutorial/api-design.html#life">stability category</a>
            of this API. You may use
            <pre>
                &lt;api type="export" group="property" name="id" category="private" url="http://..."&gt;
                    description of the property, where it is used, what it influence, etc.
                &lt;/api&gt;            
            </pre>
            </hint>
        </question>
-->
 <answer id="exec-property">
 <ul>
            <li>
                <api type="export" group="property" name="embarcadero.home-dir" category="private">
                    Sets the directory that will contain the .uml configuration files.
                </api>
            </li>
        </ul>

  <p>
  </p>
 </answer>



<!--
        <question id="exec-reflection" when="impl">
            Does your code use Java Reflection to execute other code?
            <hint>
            This usually indicates a missing or insufficient API in the other
            part of the system. If the other side is not aware of your dependency
            this contract can be easily broken.
            </hint>
        </question>
-->
 <answer id="exec-reflection">
  <p>
   The UML code is very dynamic.  We use configuration files to determine how to populate our tree,
   property editor, edit control, and preferences.  The configuration file specifies that methods that should
   be used to retrieve, modify, and remove items from a given object.
  </p>
 </answer>



<!--
        <question id="exec-threading" when="impl">
            What threading models, if any, does your module adhere to?
            <hint>
                If your module calls foreign APIs which have a specific threading model,
                indicate how you comply with the requirements for multithreaded access
                (synchronization, mutexes, etc.) applicable to those APIs.
                If your module defines any APIs, or has complex internal structures
                that might be used from multiple threads, declare how you protect
                data against concurrent access, race conditions, deadlocks, etc.,
                and whether such rules are enforced by runtime warnings, errors, assertions, etc.
                Examples: a class might be non-thread-safe (like Java Collections); might
                be fully thread-safe (internal locking); might require access through a mutex
                (and may or may not automatically acquire that mutex on behalf of a client method);
                might be able to run only in the event queue; etc.
                Also describe when any events are fired: synchronously, asynchronously, etc.
                Ideas: <a href="http://core.netbeans.org/proposals/threading/index.html#recommendations">Threading Recommendations</a> (in progress)
            </hint>
        </question>
-->
 <answer id="exec-threading">
  <p>
   We call the VCS API that is not able to run on the UI thread with out locking up the application.  
   To solve this problem our VCS module has started a thread and executes all VCS API commands
   on the thread.
  </p>
 </answer>



<!--
        <question id="format-clipboard" when="impl">
            Which data flavors (if any) does your code read from or insert to
            the clipboard (by access to clipboard on means calling methods on <code>java.awt.datatransfer.Transferable</code>?
            
            <hint>
            Often Node's deal with clipboard by usage of <code>Node.clipboardCopy, Node.clipboardCut and Node.pasteTypes</code>.
            Check your code for overriding these methods.
            </hint>
        </question>
-->
 <answer id="format-clipboard">
  <p>
   To perform DnD between the project tree and the diagrams we use a transferable that 
   keeps track of the model elements that are selected.  We provide our own data flavor
   that can be used to retrieve the model elements that are the target of the operation.
   <br/><br/>
   The transferable also implements the string flavor that can be used to pass the 
   model element information.  The string format is a XML string.
   <br/><br/>
   We use the same transferable when performing the copy and paste operations.   
  </p>
 </answer>



<!--
        <question id="format-dnd" when="impl">
            Which protocols (if any) does your code understand during Drag &amp; Drop?
            <hint>
            Often Node's deal with clipboard by usage of <code>Node.drag, Node.getDropType</code>. 
            Check your code for overriding these methods. Btw. if they are not overridden, they
            by default delegate to <code>Node.clipboardCopy, Node.clipboardCut and Node.pasteTypes</code>.
            </hint>
        </question>
-->
 <answer id="format-dnd">
  <p>
   DnDConstants.ACTION_COPY, DnDConstants.ACTION_MOVE
  </p>
 </answer>



<!--
        <question id="format-types" when="impl">
            Which protocols and file formats (if any) does your module read or write on disk,
            or transmit or receive over the network? Do you generate an ant build script?
            Can it be edited and modified? 
            
            <hint>
            <p>
            Files can be read and written by other programs, modules and users. If they influence
            your behaviour, make sure you either document the format or claim that it is a private
            api (using the &lt;api&gt; tag). 
            </p>
            
            <p>
            If you generate an ant build file, this is very likely going to be seen by end users and
            they will be attempted to edit it. You should be ready for that and provide here a link
            to documentation that you have for such purposes and also describe how you are going to
            understand such files during next release, when you (very likely) slightly change the 
            format.
            </p>
            </hint>
        </question>
-->
 <answer id="format-types">
  <p>
   We store our meta model information in files that have an etd extension.  We store our diagrams in
   that end with the extensions etlp, and etld.  Also when we version control model elements we 
   store the metamodel information in a files with the extension etx.
  </p>
 </answer>



<!--
        <question id="lookup-lookup" when="init">
            Does your module use <code>org.openide.util.Lookup</code>
            or any similar technology to find any components to communicate with? Which ones?
            
            <hint>
            Please describe the interfaces you are searching for, where 
            are defined, whether you are searching for just one or more of them,
            if the order is important, etc. Also classify the stability of such
            API contract. For that use &lt;api group=&amp;lookup&amp; /&gt; tag.
            </hint>
        </question>
-->
 <answer id="lookup-lookup">
  <p>
   We have added IElement instances to lookup of our nodes.  Our UML project type also creates a lookup and adds 
   the standard project classes to the lookup.  We also add a UMLHelper to the lookup to allow modules writers to
   interact with tha model.
  </p>
 </answer>



<!--
        <question id="lookup-register" when="final">
            Do you register anything into lookup for other code to find?
            <hint>
            Do you register using layer file or using <code>META-INF/services</code>?
            Who is supposed to find your component?
            </hint>
        </question>
-->
 <answer id="lookup-register">
  <p>
   We have added IElement instances to lookup of our nodes.  Our UML project type also creates a lookup and adds 
   the standard project classes to the lookup.  We also add a UMLHelper to the lookup to allow modules writers to
   interact with tha model.
  </p>
 </answer>



<!--
        <question id="lookup-remove" when="final">
            Do you remove entries of other modules from lookup?
            <hint>
            Why? Of course, that is possible, but it can be dangerous. Is the module
            your are masking resource from aware of what you are doing?
            </hint>
        </question>
-->
 <answer id="lookup-remove">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="perf-exit" when="final">
            Does your module run any code on exit?
        </question>
-->
 <answer id="perf-exit">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="perf-huge_dialogs" when="final">
            Does your module contain any dialogs or wizards with a large number of
            GUI controls such as combo boxes, lists, trees, or text areas?
        </question>
-->
 <answer id="perf-huge_dialogs">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="perf-limit" when="init">
            Are there any hard-coded or practical limits in the number or size of
            elements your code can handle?
        </question>
-->
 <answer id="perf-limit">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="perf-mem" when="final">
            How much memory does your component consume? Estimate
            with a relation to the number of windows, etc.
        </question>
-->
 <answer id="perf-mem">
  <p>
   The size of memory that our module consumes depends on the size of the model.  The bigger the
   model the bigger the XML repository.
  </p>
 </answer>



<!--
        <question id="perf-menus" when="final">
            Does your module use dynamically updated context menus, or
            context-sensitive actions with complicated and slow enablement logic?
            <hint>
                If you do a lot of tricks when adding actions to regular or context menus, you can significantly
                slow down display of the menu, even when the user is not using your action. Pay attention to
                actions you add to the main menu bar, and to context menus of foreign nodes or components. If
                the action is conditionally enabled, or changes its display dynamically, you need to check the
                impact on performance. In some cases it may be more appropriate to make a simple action that is
                always enabled but does more detailed checks in a dialog if it is actually run.
            </hint>
        </question>
-->
 <answer id="perf-menus">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="perf-progress" when="final">
            Does your module execute any long-running tasks?
            
            <hint>Long running tasks should never block 
            AWT thread as it badly hurts the UI
            <a href="http://performance.netbeans.org/responsiveness/issues.html">
            responsiveness</a>.
            Tasks like connecting over
            network, computing huge amount of data, compilation
            be done asynchronously (for example
            using <code>RequestProcessor</code>), definitively it should 
            not block AWT thread.
            </hint>
        </question>
-->
 <answer id="perf-progress">
  <p>
   Create Diagram form selected, and Sequence Diagram Reverse Engineering can take a while to 
   complete.
  </p>
 </answer>



<!--
        <question id="perf-scale" when="init">
            Which external criteria influence the performance of your
            program (size of file in editor, number of files in menu, 
            in source directory, etc.) and how well your code scales?
            <hint>
            Please include some estimates, there are other more detailed 
            questions to answer in later phases of implementation. 
            </hint>
        </question>
-->
 <answer id="perf-scale">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="perf-spi" when="init">
            How the performance of the plugged in code will be enforced?
            <hint>
            If you allow foreign code to be plugged into your own module, how
            do you enforce that it will behave correctly and quickly and will not
            negatively influence the performance of your own module?
            </hint>
        </question>
-->
 <answer id="perf-spi">
  <p>
   Currently we do not have any enforcement.
  </p>
 </answer>



<!--
        <question id="perf-startup" when="final">
            Does your module run any code on startup?
        </question>
-->
 <answer id="perf-startup">
  <p>
   UML initializes the UML product durning the module startup.
  </p>
 </answer>



<!--
        <question id="perf-wakeup" when="final">
            Does any piece of your code wake up periodically and do something
            even when the system is otherwise idle (no user interaction)?
        </question>
-->
 <answer id="perf-wakeup">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="resources-file" when="final">
            Does your module use <code>java.io.File</code> directly?
            
            <hint>
            NetBeans provide a logical wrapper over plain files called 
            <code>org.openide.filesystems.FileObject</code> that
            provides uniform access to such resources and is the preferred
            way that should be used. But of course there can be situations when
            this is not suitable.
            </hint>
        </question>
-->
 <answer id="resources-file">
  <p>
   We use Files when ever reading in configuration files.  We also use the 
   File class when reading in metadata and diagram files.
  </p>
 </answer>



<!--
        <question id="resources-layer" when="final">
            Does your module provide own layer? Does it create any files or
            folders in it? What it is trying to communicate by that and with which 
            components?
            
            <hint>
            NetBeans allows automatic and declarative installation of resources 
            by module layers. Module register files into appropriate places
            and other components use that information to perform their task
            (build menu, toolbar, window layout, list of templates, set of
            options, etc.). 
            </hint>
        </question>
-->
 <answer id="resources-layer">
  <p>
   Yes.  We use the configuration files and folders to allow modules writers add context menus, 
   to extend the Modeling components.
  </p>
 </answer>



<!--
        <question id="resources-mask" when="final">
            Does your module mask/hide/override any resources provided by other modules in
            their layers?
            
            <hint>
            If you mask a file provided by another module, you probably depend
            on that and do not want the other module to (for example) change
            the file's name. That module shall thus make that file available as an API
            of some stability category.
            </hint>
        </question>
-->
 <answer id="resources-mask">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="resources-read" when="final">
            Does your module read any resources from layers? For what purpose?
            
            <hint>
            As this is some kind of intermodule dependency, it is a kind of API.
            Please describe it and classify according to 
            <a href="http://openide.netbeans.org/tutorial/api-design.html#categories">
            common stability categories</a>.
            </hint>
        </question>
-->
 <answer id="resources-read">
  <p>
   Yes.  We use the configuration files and folders to allow modules writers add context menus, 
   to extend the Modeling components.
  </p>
 </answer>



<!--
        <question id="security-grant" when="final">
            Does your code grant additional rights to some other code?
            <hint>Avoid using a class loader that adds extra
            permissions to loaded code unless really necessary.
            Also note that your API implementation
            can also expose unneeded permissions to enemy code by
            calling AccessController.doPrivileged().</hint>
        </question>
-->
 <answer id="security-grant">
  <p>
   No
  </p>
 </answer>



<!--
        <question id="security-policy" when="final">
            Does your functionality require modifications to the standard policy file?
            <hint>Your code might pass control to third-party code not
            coming from trusted domains. This could be code downloaded over the
            network or code coming from libraries that are not bundled
            with NetBeans. Which permissions need to be granted to which domains?</hint>
        </question>
-->
 <answer id="security-policy">
  <p>
   No
  </p>
 </answer>

</api-answers>
